// Sten, sax och påse lek. Du trycke på en av tre knappar och datorn
// väljer efter slumpen

import java.awt.*;
import java.awt.event.*;
import extra.*;

public class Lek extends ExtendedFrame implements ActionListener {
  private int vinst, förlust;
  private Button sten, sax, påse;
  private Label v = new Label("Vinster:");
  private Label f = new Label("Förluster:");
  private Label vn = new Label("   0  ",Label.CENTER);
  private Label fn = new Label("   0  ",Label.CENTER);
  private Label drag = new Label("             ", Label.CENTER);
  private Panel p = new Panel();
  private Panel p1 = new Panel();
  private Panel p2 = new Panel();

  // sten = 0, sax = 1, påse = 2, en tabell över resultat av
  // olika kombinationer, 1 = vinst, -1 = förlust, 0 = oavgjort

  private int [][] tabell = {{0, 1, -1}, {-1, 0, 1}, {1, -1, 0}};

  // sätt upp gränssnittet

  public Lek() {
    setLayout(new GridLayout(2,1));
    p1.setLayout(new GridLayout(1,3));
    sten = new Button("sten");
    sten.addActionListener(this);
    p1.add(sten);
    sax = new Button("sax");
    sax.addActionListener(this);
    p1.add(sax);
    påse = new Button("påse");
    påse.addActionListener(this);
    p1.add(påse);
    p.setLayout(new BorderLayout());
    p2.setLayout(new GridLayout(2,2));
    p2.add(v); p2.add(vn);
    p2.add(f); p2.add(fn);
    p.add(drag,"North");
    p.add(p2,"Center");
    add(p1);
    add(p);
    pack();
    setVisible(true);
  }
  
  public void actionPerformed(ActionEvent e) {

    // kolla vilken knapp
    
    int val;
    if(e.getSource() == sten) val = 0;
    else if (e.getSource() == sax) val = 1;
    else val = 2;

    // låt datorn välja

    int d = (int) (3*Math.random());
    if (d == 0) drag.setText("Mitt drag: sten");
    else if (d == 1) drag.setText("Mitt drag: sax");
    else drag.setText("Mitt drag: påse");

    // kolla vinsttabellen

    if (tabell[val][d] == 1) vinst++;
    else if (tabell[val][d] == -1) förlust++;

    // uppdatera räknarna

    vn.setText(String.valueOf(vinst));
    fn.setText(String.valueOf(förlust));
  }

  public static void main(String [] args) {
    Lek l = new Lek();
  }
}

